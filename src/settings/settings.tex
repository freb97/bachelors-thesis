%! Author = Frederik Bußmann
%! Date = 22.06.2023

\makeatletter
% Fix footnote second line indentation
\renewcommand{\@makefntext}[1]{%
    \begin{hangparas}{1.6em}{1}
        \noindent \makebox[1.2em]{\@makefnmark} #1
    \end{hangparas}
}

% Remove list of figures title
\renewcommand\listoffigures{%
    \@starttoc{lof}%
}
\makeatother

% PDF Info
\hypersetup{
    pdfinfo={
        Author={Frederik Bußmann},
        Title={Konzeption und Entwicklung einer Continuous-Integration-Strategie für Kundenprojekte auf Basis der
        Shopware-Platform},
        Subject={Bachelor-Arbeit, Leitung Prof.\ Dr.-Ing.\ Martin Schulten},
        Keywords={},
    }
}
\title{Konzeption und Entwicklung einer Continuous-Integration-Strategie für Kundenprojekte auf Basis der
Shopware-Platform}
\author{Frederik Bußmann}
\date{Juli 2023}

% General settings
\setstretch{1.1}
\setlength{\parindent}{0pt}
\graphicspath{{/data}}

% Omit numbering of subsubsections
\setcounter{secnumdepth}{2}

% Add labels to bibliography entries to hyperlink them
\defbibenvironment{bibliography}
{\list
{\printtext[labelnumberwidth]{%
    \printfield{prefixnumber}%
    \printfield{labelnumber}}}
{\setlength{\labelwidth}{\labelnumberwidth}%
\setlength{\leftmargin}{\labelwidth}%
\setlength{\labelsep}{\biblabelsep}%
\addtolength{\leftmargin}{\labelsep}%
\setlength{\itemsep}{\bibitemsep}%
\setlength{\parsep}{\bibparsep}}%
\renewcommand*{\makelabel}[1]{\hss##1}}
{\endlist}
{\hypertarget{cite.\thefield{entrykey}}{\item}}

% Use et al. instead of u.a.
\DefineBibliographyStrings{ngerman}{
    andothers = {et\addabbrvspace al\adddot},
    urlseen = {aufgerufen am},
}

% Add bibliography
\addbibresource{config/references.bib}

% Blank page command
\newcommand\blankpage{\null\thispagestyle{empty}\newpage}

% Full-size background picture command
\newcommand\BackgroundPic{%
    \put(0,0){%
        \parbox[b][\paperheight]{\paperwidth}{%
            \vfill
            \centering
            \includegraphics[width=\paperwidth,height=\paperheight,%
                keepaspectratio]{images/layout/background}%
            \vfill
        }}}

% Cleveref figure name settings
\crefname{figure}{Abbildung}{Abbildung}
\Crefname{figure}{Abbildung}{Abbildung}

% Glossary settings
\makeglossaries
\input{config/glossary}
\renewcommand{\glsnamefont}[1]{\textbf{#1}}
\setlength{\glslistdottedwidth}{0.32\linewidth}

% List styling
\renewcommand{\labelitemii}{$\circ$}

% Footpartcite citation command
\DeclareCiteCommand{\footpartcite}[\mkbibfootnote]
{\usebibmacro{prenote}}
{%
    \hyperlink{cite.\thefield{entrykey}}{%
        \setunit{\addnbspace}%
        \printtext{Vgl.}%
        \setunit{\addnbspace}%
        \printnames{labelname}%
        \setunit{\labelnamepunct}%
        \printfield[citetitle]{title}%
        \newunit%
        \printfield{year}%
    }%
}
{\addsemicolon\space}
{\usebibmacro{postnote}}
% To cite: \footpartcite{example}

% Textpartcite citation command
\DeclareCiteCommand{\textpartcite}
{\usebibmacro{prenote}}
{%
    \hyperlink{cite.\thefield{entrykey}}{%
    \printnames{labelname}%
    \ (\printfield{year})%
}%
}
{\addsemicolon\space}
{\usebibmacro{postnote}}

% Caption cite command
\newcommand{\captioncite}[3][]{%
    \ifthenelse{\equal{#3}{}}{%
        \caption*{\fontsize{8pt}{6pt}\selectfont Quelle: \textpartcite{#1}}%
        \caption{#2}%
    }{%
        \caption*{\fontsize{8pt}{6pt}\selectfont Quelle: #1 \ifthenelse{\equal{#2}{}}{}{\textpartcite{#2}}}%
        \caption{#3}%
    }%
}

% Footnote size and spacing
\renewcommand{\footnotesize}{\scriptsize}
\setlength{\footnotesep}{0pt}
\setlength{\skip\footins}{0.5cm}
